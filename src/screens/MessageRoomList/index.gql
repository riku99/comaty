query MessageRoomListScreenData {
  ...MessageRoomListScreenData
}

query MessageRoomListFromMySelfScreenData {
  ...MessageRoomListFromMySelf
}

query MessageRoomListFromOtherPartyScreenData {
  ...MessageRoomListFromOtherParty
}

query KeptMessageRoomListScreenData {
  ...KeptMessageRoomList
}

fragment RoomListItemInMessageRoomListScreen on MessageRoom {
  id
  partner {
    id
    nickname
    firstProfileImage {
      ...ProfileImage
    }
    distance
  }
  messages(first: 1) {
    edges {
      node {
        id
        text
        read
        sender {
          id
        }
        createdAt
      }
    }
  }
  kept
}

fragment MessageRoomListScreenData on Query {
  ...MessageRoomListFromMySelf
  ...MessageRoomListFromOtherParty
  ...KeptMessageRoomList
}

fragment MessageRoomListFromMySelf on Query {
  me {
    id
    messageRoomsFromMySelf {
      ...RoomListItemInMessageRoomListScreen
      updatedAt
    }
  }
}

fragment MessageRoomListFromOtherParty on Query {
  me {
    id
    messageRoomsFromOtherParty {
      ...RoomListItemInMessageRoomListScreen
      updatedAt
    }
  }
}

fragment KeptMessageRoomList on Query {
  me {
    id
    keptMessageRooms {
      ...RoomListItemInMessageRoomListScreen
      updatedAt
    }
  }
}
